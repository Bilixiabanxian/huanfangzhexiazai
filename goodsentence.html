<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>每日金句</title>
  <script src="https://cdn.tailwindcss.com"></script> 

  <style>
    /* 背景流动动画 */
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .bg-flow {
      background-size: 200% 200%;
      animation: gradientFlow 15s ease infinite;
    }

    /* 输入框动态边框 */
    .input-border {
      position: relative;
    }

    .input-border::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0%;
      height: 2px;
      background: linear-gradient(90deg, transparent, currentColor, transparent);
      transition: width 0.4s ease;
      pointer-events: none;
    }

    .input-border:hover::after,
    .input-border:focus-within::after {
      width: 100%;
    }

    /* 按钮微光效果 */
    .btn-glow:hover {
      box-shadow: 0 0 15px rgba(129, 140, 248, 0.5);
    }

    /* 卡片阴影增强 */
    .card-shadow {
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* 夜间模式样式 */
    .dark-mode {
      background: radial-gradient(circle at top left, #1a202c, #0d1117) !important;
      color: #e2e8f0;
    }

    .dark-mode .bg-white\/90 {
      background-color: rgba(30, 41, 59, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .dark-mode .text-gray-800 {
      color: #e2e8f0;
    }

    .dark-mode .border-gray-200 {
      border-color: rgba(255, 255, 255, 0.1);
    }

    .dark-mode .bg-gray-50 {
      background-color: #1e293b;
    }

    .dark-mode .text-gray-600 {
      color: #cbd5e1;
    }

    .dark-mode .text-gray-500 {
      color: #94a3b8;
    }

    .dark-mode .text-gray-400 {
      color: #64748b;
    }

    .dark-mode .focus\:ring-indigo-500:focus {
      --tw-ring-color: #818cf8;
    }

    .dark-mode .hover\:bg-indigo-700:hover {
      background-color: #6366f1;
    }

    .dark-mode .bg-indigo-600 {
      background-color: #4f46e5;
    }
  </style>
</head>
<body id="app-body"
      class="flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 bg-flow p-4 transition-all duration-1000">

  <!-- 主体卡片 -->
  <div class="w-full max-w-2xl rounded-xl bg-white/90 p-6 shadow-xl backdrop-blur-sm md:p-8 card-shadow">
    <h1 class="mb-6 text-center text-2xl font-bold text-gray-800">每日金句</h1>

    <!-- 金句展示框 -->
    <div id="quote-container" class="relative mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white px-6 py-8 shadow-md transition-all duration-500 md:px-8 md:py-10">
      <blockquote id="quote-text" class="text-center text-lg font-light italic text-gray-700 transition-opacity duration-500 opacity-100">
        “加载中...”
      </blockquote>
      <p id="quote-author" class="mt-4 text-center text-sm font-medium text-gray-500">
        —— 加载中...
      </p>
    </div>

    <!-- 输入框与按钮 -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 input-border">
      <input
        type="text"
        id="quote-input"
        readonly
        value="点击“换一换”随机显示金句"
        class="w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-sm text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"
        placeholder="点击“换一换”随机显示金句"
      />
      <button
        onclick="randomQuoteAndBackground()"
        id="change-button"
        class="whitespace-nowrap rounded-lg bg-indigo-600 px-5 py-3 text-sm font-medium text-white transition-colors duration-200 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 btn-glow"
      >
        换一换
      </button>
    </div>

    <!-- 日夜模式切换 -->
    <div class="mt-6 flex justify-end">
      <button
        onclick="toggleDarkMode()"
        class="rounded-md bg-gray-200 px-3 py-1 text-xs font-medium text-gray-700 transition-colors duration-200 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300">
        切换夜间模式
      </button>
    </div>

    <!-- 底部提示 -->
    <div class="mt-4 text-center text-xs text-gray-400">
      每天一句励志语录，点亮心灵之光 💡
    </div>
  </div>

  <script>
    // 📚 金句数据
    const quotes = [
      { text: "成功不是将来才有的，而是从决定去做的那一刻起，持续累积而成。", author: "俞敏洪" },
      { text: "生活不可能像你想象得那么好，但也不会像你想象得那么糟。", author: "莫言" },
      { text: "你若有一个不屈的灵魂，脚下就会有一片坚实的土地。", author: "汪国真" },
      { text: "不要等待机会，而要创造机会。", author: "培根" },
      { text: "即使跌倒一百次，也要一百零一次地站起来。", author: "张海迪" },
    ];

    // 🎨 背景配色方案
    const backgrounds = [
      { cls: 'from-blue-50 via-indigo-100 to-purple-200' },
      { cls: 'from-green-50 via-teal-100 to-cyan-200' },
      { cls: 'from-pink-50 via-red-100 to-orange-200' },
      { cls: 'from-yellow-50 via-amber-100 to-orange-200' },
      { cls: 'from-purple-50 via-pink-100 to-rose-200' },
    ];

    // ✅ 定义状态变量
    let currentQuoteIndex = 0;     // 当前显示的金句索引
    let currentBgIndex = -1;       // 当前背景索引（初始为 -1）

    // 💡 切换金句和背景函数
    function randomQuoteAndBackground() {
      const quoteContainer = document.getElementById("quote-container");
      const quoteText = document.getElementById("quote-text");
      const quoteAuthor = document.getElementById("quote-author");
      const quoteInput = document.getElementById("quote-input");
      const changeButton = document.getElementById("change-button");
      const appBody = document.getElementById("app-body");

      changeButton.disabled = true;
      quoteContainer.classList.add("opacity-0", "translate-y-2");
      quoteText.classList.add("opacity-0");

      setTimeout(() => {
        let newQuoteIndex, newBgIndex;

        do {
          newQuoteIndex = Math.floor(Math.random() * quotes.length);
        } while (newQuoteIndex === currentQuoteIndex);

        do {
          newBgIndex = Math.floor(Math.random() * backgrounds.length);
        } while (newBgIndex === currentBgIndex);

        currentQuoteIndex = newQuoteIndex;
        currentBgIndex = newBgIndex;

        // 更新页面内容
        quoteText.textContent = `“${quotes[newQuoteIndex].text}”`;
        quoteAuthor.textContent = `—— ${quotes[newQuoteIndex].author}`;
        quoteInput.value = quotes[newQuoteIndex].text;

        // 🔁 保留 dark-mode 类
        const isDarkMode = appBody.classList.contains('dark-mode');
        const baseClasses = 'flex min-h-screen items-center justify-center p-4 bg-flow transition-colors duration-1000';
        const backgroundClass = `bg-gradient-to-br ${backgrounds[newBgIndex].cls}`;

        appBody.className = `${baseClasses} ${backgroundClass}` + (isDarkMode ? ' dark-mode' : '');

        // 恢复动画
        quoteContainer.classList.remove("opacity-0", "translate-y-2");
        quoteText.classList.remove("opacity-0");
        changeButton.disabled = false;
      }, 300);
    }

    // 🌞🌙 切换夜间模式
    function toggleDarkMode() {
      const body = document.body;
      body.classList.toggle("dark-mode");
    }

    // 🚀 页面加载时初始化
    window.onload = () => {
      randomQuoteAndBackground();
    };
  </script>
</body>
</html>
